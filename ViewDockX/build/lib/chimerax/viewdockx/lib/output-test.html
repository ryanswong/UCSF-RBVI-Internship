<script src=C:\Users\Ryan\AppData\Local\UCSF\ChimeraX\0.1\site-packages\chimerax\viewdockx\lib\jquery-3.2.1.min.js></script>
<script src=C:\Users\Ryan\AppData\Local\UCSF\ChimeraX\0.1\site-packages\chimerax\viewdockx\lib\jquery.tablesorter.min.js></script>
<h2><font color= "#FF8080">ViewDockX</font></h2>
<ul>
<style>
table, th, td {
border: 1px solid grey;
border-collapse: collapse;}
th { background-color: #00FFCC; font-family:arial;}
td { background-color: #CCFFF5; text-align: center; font-family:arial;}
th.id { background-color: #c266ff; text-align: center;}
td.id {background-color: #ebccff; text-align: left;}
.checkbox {display: none; white-space: nowrap}text-align-last: 
</style>
<input type="checkbox" id="show_checkboxes"/>show checkboxes</>
<span class="checkbox"><input type="checkbox" id="check_all" />check all</></span>

<table id="viewdockx_table" class="tablesorter" style="width:100%">
<thead><tr>
<th class="id">ID</th>
<th>NAME</th>
<th>DESCRIPTION</th>
<th>ENERGY SCORE</th>
<th>NUMBER</th>
<th>RMSD FROM INPUT ORIENTATION (A)</th>
<th>REFLECT</th>
<th>SOURCE NUM</th>
<th>INTERMOLECULAR ELECTROSTATIC</th>
<th>INTERMOLECULAR VAN DER WAALS</th>
</tr></thead>
<tbody>
<tr>
<td class="id">
<span style="display:none; white-space: nowrap" class="checkbox"> <input class="checkbox, struct" type="checkbox" href="viewdockx:?atomspec=%231.1"/> 1.1</span>
<span class="link"><a href="viewdockx:?atomspec=%231.1">1.1</a></span>
</td>
<td>test_22</td>
<td>ribose-monophosphate</td>
<td>-42.64</td>
<td>1</td>
<td>40.86</td>
<td>0</td>
<td>22</td>
<td>-21.54</td>
<td>-21.10</td>
</tr>
<tr>
<td class="id">
<span style="display:none; white-space: nowrap" class="checkbox"> <input class="checkbox, struct" type="checkbox" href="viewdockx:?atomspec=%231.2"/> 1.2</span>
<span class="link"><a href="viewdockx:?atomspec=%231.2">1.2</a></span>
</td>
<td>test_27</td>
<td>vitamin B2</td>
<td>-29.50</td>
<td>2</td>
<td>42.41</td>
<td>0</td>
<td>27</td>
<td>-0.78</td>
<td>-28.72</td>
</tr>
</tbody>
</table>


<script>
$(document).ready(function() 
{ 
$("#viewdockx_table").tablesorter(); 
} 
);

$("#show_checkboxes").click(function(){

if($(this).is(":checked")){
$(".checkbox").show();
$(".link").hide();
}
else{
$(".checkbox").hide();
$(".link").show();
}

});
</script>
<script>

$(".struct").click(function(){

if($(this).is(":checked")){
window.location=$(this).attr('href')+"&display=1"
}
else{
window.location=$(this).attr('href')+"&display=0"
}

});
</script>

<script>
$("#check_all").click(function(){

if($(this).is(":checked")){
$(".struct").prop('checked', true);
window.location="viewdockx:?show_all=true";
}
else{
$(".struct").prop('checked', false);
window.location="viewdockx:?show_all=false";
}
});
</script>

<script>
$("#viewdockx_table tr td").click(function() {
//Reset
$("#viewdockx_table td, th").removeClass("highlight");
//Add highlight class to new column
var index = $(this).index();
$("#viewdockx_table tr").each(function(i, tr) {
$(tr).find('td, th').eq(index).addClass("highlight");
});
alert($(`#viewdockx_table td:nth-child(${index + 1}`).map(function(){
return $(this).text();
}).get());
});
</script>

<style>

.highlight {
background-color: yellow;
} 
</style>